{"is_source_file": true, "format": "JavaScript", "description": "This file defines API interaction functions for a notes application, including functions to list, create, update, and delete notes, with fallback to local storage if the backend is unavailable. It exports an API interface for frontend components to access note data.", "external_files": ["./storage"], "external_methods": ["loadNotes", "saveNotes", "makeId"], "published": ["listNotes", "createNote", "updateNote", "deleteNote"], "classes": [], "methods": [{"name": "hasBackend()", "description": "Checks if a backend URL is configured based on environment variables.", "scope": "", "scopeKind": ""}, {"name": "http(path, opts = {})", "description": "Performs an HTTP fetch request to the specified path with options, handling JSON responses and errors.", "scope": "", "scopeKind": ""}, {"name": "listNotes()", "description": "Fetches the list of notes from the backend or local storage as a fallback.", "scope": "", "scopeKind": ""}, {"name": "createNote(payload)", "description": "Creates a new note either via backend API or local storage fallback.", "scope": "", "scopeKind": ""}, {"name": "updateNote(id, payload)", "description": "Updates an existing note by ID via backend API or local storage fallback.", "scope": "", "scopeKind": ""}, {"name": "deleteNote(id)", "description": "Deletes a note by ID via backend API or local storage fallback.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "loadNotes", "saveNotes", "makeId"], "search-terms": ["notes API", "local storage fallback", "fetch notes", "create note", "update note", "delete note", "API base URL"], "state": 2, "file_id": 14, "knowledge_revision": 67, "git_revision": "", "revision_history": [{"31": ""}, {"56": ""}, {"66": ""}, {"67": ""}], "ctags": [{"_type": "tag", "name": "BASE", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^const BASE = process.env.REACT_APP_API_BASE || process.env.REACT_APP_BACKEND_URL || '';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^  const body = {$/", "language": "JavaScript", "kind": "class", "scope": "createNote", "scopeKind": "class"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^    content: body.content,$/", "language": "JavaScript", "kind": "property", "scope": "createNote.newNote", "scopeKind": "class"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^    content: payload.content || '',$/", "language": "JavaScript", "kind": "property", "scope": "createNote.body", "scopeKind": "class"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^export async function createNote(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^    createdAt: now,$/", "language": "JavaScript", "kind": "property", "scope": "createNote.newNote", "scopeKind": "class"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^export async function deleteNote(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "drawing", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^    drawing: body.drawing || null,$/", "language": "JavaScript", "kind": "property", "scope": "createNote.newNote", "scopeKind": "class"}, {"_type": "tag", "name": "hasBackend", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^function hasBackend() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "http", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^async function http(path, opts = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, opts = {})"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^    id: makeId(),$/", "language": "JavaScript", "kind": "property", "scope": "createNote.newNote", "scopeKind": "class"}, {"_type": "tag", "name": "listNotes", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^export async function listNotes() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "newNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^  const newNote = {$/", "language": "JavaScript", "kind": "class", "scope": "createNote", "scopeKind": "class"}, {"_type": "tag", "name": "tags", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^    tags: Array.isArray(payload.tags) ? payload.tags : [],$/", "language": "JavaScript", "kind": "property", "scope": "createNote.body", "scopeKind": "class"}, {"_type": "tag", "name": "tags", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^    tags: body.tags,$/", "language": "JavaScript", "kind": "property", "scope": "createNote.newNote", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^    title: body.title,$/", "language": "JavaScript", "kind": "property", "scope": "createNote.newNote", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^    title: payload.title,$/", "language": "JavaScript", "kind": "property", "scope": "createNote.body", "scopeKind": "class"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^export async function updateNote(id, payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, payload)"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^    updatedAt: now,$/", "language": "JavaScript", "kind": "property", "scope": "createNote.newNote", "scopeKind": "class"}], "hash": "f97f0c81224552b4f6093b38ef4306bf", "format-version": 4, "code-base-name": "notes_app_frontend", "filename": "notes_app_frontend/src/lib/api.js", "fields": [{"name": "content: body.content,", "scope": "createNote.newNote", "scopeKind": "class", "description": "unavailable"}, {"name": "content: payload.content || '',", "scope": "createNote.body", "scopeKind": "class", "description": "unavailable"}, {"name": "createdAt: now,", "scope": "createNote.newNote", "scopeKind": "class", "description": "unavailable"}, {"name": "drawing: body.drawing || null,", "scope": "createNote.newNote", "scopeKind": "class", "description": "unavailable"}, {"name": "id: makeId(),", "scope": "createNote.newNote", "scopeKind": "class", "description": "unavailable"}, {"name": "tags: Array.isArray(payload.tags) ? payload.tags : [],", "scope": "createNote.body", "scopeKind": "class", "description": "unavailable"}, {"name": "tags: body.tags,", "scope": "createNote.newNote", "scopeKind": "class", "description": "unavailable"}, {"name": "title: body.title,", "scope": "createNote.newNote", "scopeKind": "class", "description": "unavailable"}, {"name": "title: payload.title,", "scope": "createNote.body", "scopeKind": "class", "description": "unavailable"}, {"name": "updatedAt: now,", "scope": "createNote.newNote", "scopeKind": "class", "description": "unavailable"}]}