{"is_source_file": true, "format": "JavaScript", "description": "This source file implements an API client for a notes management application, providing CRUD operations for notes and notebooks. It includes fallbacks to local storage if the backend API is not configured, and manages HTTP requests with error handling.", "external_files": ["./storage"], "external_methods": ["ls_listNotes", "ls_createNote", "ls_updateNote", "ls_deleteNote", "ls_listNotebooks", "ls_createNotebook", "ls_renameNotebook", "ls_deleteNotebook", "ls_getSelectedNotebookId", "ls_setSelectedNotebookId"], "published": ["listNotes", "createNote", "updateNote", "deleteNote", "listNotebooks", "createNotebook", "renameNotebook", "deleteNotebook", "getSelectedNotebookId", "setSelectedNotebookId"], "classes": [], "methods": [{"name": "hasApi()", "description": "Checks if the API base URL is configured and non-empty.", "scope": "", "scopeKind": ""}, {"name": "http(method, path, body)", "description": "Performs an HTTP request with the specified method, path, and optional body, including error handling.", "scope": "", "scopeKind": ""}, {"name": "listNotes(notebookId)", "description": "Fetches a list of notes, either from backend API if available or from local storage.", "scope": "", "scopeKind": ""}, {"name": "createNote(payload, notebookId)", "description": "Creates a new note, preferring backend API if available, otherwise falls back to local storage.", "scope": "", "scopeKind": ""}, {"name": "updateNote(id, patch)", "description": "Updates an existing note identified by ID, using backend if possible, else local storage.", "scope": "", "scopeKind": ""}, {"name": "deleteNote(id)", "description": "Deletes a note by ID, via backend API or local storage fallback.", "scope": "", "scopeKind": ""}, {"name": "listNotebooks()", "description": "Retrieves a list of notebooks, using backend if available or local storage fallback.", "scope": "", "scopeKind": ""}, {"name": "createNotebook(name)", "description": "Creates a new notebook with the given name, either via API or fallback.", "scope": "", "scopeKind": ""}, {"name": "renameNotebook(id, name)", "description": "Renames an existing notebook by ID, with API fallback.", "scope": "", "scopeKind": ""}, {"name": "deleteNotebook(id)", "description": "Deletes a notebook by ID, via API or fallback.", "scope": "", "scopeKind": ""}, {"name": "getSelectedNotebookId()", "description": "Retrieves the currently selected notebook ID from local storage.", "scope": "", "scopeKind": ""}, {"name": "setSelectedNotebookId(id)", "description": "Stores the selected notebook ID to local storage.", "scope": "", "scopeKind": ""}], "calls": ["http('GET', `/notes${q}`)", "http('POST', `/notes`, body)", "http('PUT', `/notes/${encodeURIComponent(id)}`, patch)", "http('DELETE', `/notes/${encodeURIComponent(id)}`)", "http('GET', `/notebooks`)", "http('POST', `/notebooks`, { name })", "http('PUT', `/notebooks/${encodeURIComponent(id)}`, { name })", "http('DELETE', `/notebooks/${encodeURIComponent(id)}`)"], "search-terms": ["API client", "notes CRUD", "notebooks management", "fallback to local storage", "fetch configuration", "react environment variable"], "state": 2, "file_id": 25, "knowledge_revision": 122, "git_revision": "", "ctags": [{"_type": "tag", "name": "API_BASE", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^const API_BASE =$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^export async function createNote(payload, notebookId) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload, notebookId)"}, {"_type": "tag", "name": "createNotebook", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^export async function createNotebook(name) {$/", "language": "JavaScript", "kind": "function", "signature": "(name)"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^export async function deleteNote(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "deleteNotebook", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^export async function deleteNotebook(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getSelectedNotebookId", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^export function getSelectedNotebookId() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "hasApi", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^function hasApi() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "http", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^async function http(method, path, body) {$/", "language": "JavaScript", "kind": "function", "signature": "(method, path, body)"}, {"_type": "tag", "name": "listNotebooks", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^export async function listNotebooks() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listNotes", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^export async function listNotes(notebookId) {$/", "language": "JavaScript", "kind": "function", "signature": "(notebookId)"}, {"_type": "tag", "name": "method", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^    method,$/", "language": "JavaScript", "kind": "field", "scope": "http.init", "scopeKind": "class"}, {"_type": "tag", "name": "renameNotebook", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^export async function renameNotebook(id, name) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, name)"}, {"_type": "tag", "name": "setSelectedNotebookId", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^export function setSelectedNotebookId(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/api.js", "pattern": "/^export async function updateNote(id, patch) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, patch)"}], "hash": "e2aa515c616a4cebdd93f148053c699e", "format-version": 4, "code-base-name": "notes_app_frontend", "filename": "notes_app_frontend/src/lib/api.js", "fields": [{"name": "method,", "scope": "http.init", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"122": ""}]}