{"is_source_file": true, "format": "JavaScript (React/JSX)", "description": "React component implementing a drawing canvas with support for pen and eraser tools, color and stroke width selection, undo/redo, load/save via data URL, and pressure sensitivity. Contains internal state management, drawing logic, and exposed methods for external control.", "external_files": ["react", "react/jsx", "react-dom"], "external_methods": ["useEffect", "useRef", "useState", "useImperativeHandle", "forwardRef"], "published": ["DrawingCanvas"], "classes": [], "methods": [{"name": "getDataUrl", "description": "Returns the current drawing as a data URL in PNG format, or null if empty."}, {"name": "loadDataUrl(url)", "description": "Loads an image from a given data URL into the canvas, replacing vector paths.", "scope": "DrawingCanvas", "scopeKind": "function"}, {"name": "clear", "description": "Clears the canvas and resets all paths and redo history."}, {"name": "DrawingCanvas( { initialDataUrl = null, onChange, height = 260, className = '' }, ref )", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "doClear()", "scope": "DrawingCanvas", "scopeKind": "function", "description": "unavailable"}, {"name": "drawLiveSegment(path)", "scope": "DrawingCanvas", "scopeKind": "function", "description": "unavailable"}, {"name": "endDraw()", "scope": "DrawingCanvas", "scopeKind": "function", "description": "unavailable"}, {"name": "getPointerPos(e)", "scope": "DrawingCanvas", "scopeKind": "function", "description": "unavailable"}, {"name": "moveDraw(e)", "scope": "DrawingCanvas", "scopeKind": "function", "description": "unavailable"}, {"name": "redo()", "scope": "DrawingCanvas", "scopeKind": "function", "description": "unavailable"}, {"name": "redraw(sourcePaths = paths)", "scope": "DrawingCanvas", "scopeKind": "function", "description": "unavailable"}, {"name": "startDraw(e)", "scope": "DrawingCanvas", "scopeKind": "function", "description": "unavailable"}, {"name": "strokePath(ctx, path)", "scope": "DrawingCanvas", "scopeKind": "function", "description": "unavailable"}, {"name": "undo()", "scope": "DrawingCanvas", "scopeKind": "function", "description": "unavailable"}], "calls": ["canvas.getBoundingClientRect", "canvasRef.current.toDataURL", "canvasRef.current.getContext", "setTimeout", "redraw", "loadDataUrl (local function)", "doClear", "setPaths", "setRedoStack", "onChange (props)"], "search-terms": ["DrawingCanvas", "React drawing component", "HTML5 canvas drawing", "pen/eraser modes", "load/save drawing", "undo redo", "pressure sensitivity"], "state": 2, "file_id": 19, "knowledge_revision": 88, "git_revision": "c02d887afaee6487f725278fb8d6b2b536c1d58e", "revision_history": [{"63": ""}, {"88": "c02d887afaee6487f725278fb8d6b2b536c1d58e"}], "ctags": [{"_type": "tag", "name": "DrawingCanvas", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^const DrawingCanvas = forwardRef(function DrawingCanvas($/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "DrawingCanvas", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^const DrawingCanvas = forwardRef(function DrawingCanvas($/", "language": "JavaScript", "kind": "function", "signature": "( { initialDataUrl = null, onChange, height = 260, className = '' }, ref )"}, {"_type": "tag", "name": "aria", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^              aria-pressed={tool === 'eraser'}$/", "language": "JavaScript", "kind": "class", "scope": "DrawingCanvas", "scopeKind": "class"}, {"_type": "tag", "name": "aria", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^              aria-pressed={tool === 'pen'}$/", "language": "JavaScript", "kind": "class", "scope": "DrawingCanvas", "scopeKind": "class"}, {"_type": "tag", "name": "btn secondary ${tool === 'eraser' ? 'chip-active' : ''}", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^              className={`btn secondary ${tool === 'eraser' ? 'chip-active' : ''}`}$/", "language": "JavaScript", "kind": "field", "scope": "DrawingCanvas.className", "scopeKind": "class"}, {"_type": "tag", "name": "btn secondary ${tool === 'pen' ? 'chip-active' : ''}", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^              className={`btn secondary ${tool === 'pen' ? 'chip-active' : ''}`}$/", "language": "JavaScript", "kind": "field", "scope": "DrawingCanvas.className", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^            value={color}$/", "language": "JavaScript", "kind": "field", "scope": "DrawingCanvas.value", "scopeKind": "class"}, {"_type": "tag", "name": "doClear", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function doClear() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "drawLiveSegment", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function drawLiveSegment(path) {$/", "language": "JavaScript", "kind": "function", "signature": "(path)", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "drawing-canvas card", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^    <div className={`drawing-canvas card`} style={{ padding: 12, display: 'grid', gap: 10 }}>$/", "language": "JavaScript", "kind": "field", "scope": "DrawingCanvas.AnonymousClass2331f5d50101", "scopeKind": "class"}, {"_type": "tag", "name": "endDraw", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function endDraw() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "getPointerPos", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function getPointerPos(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "loadDataUrl", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function loadDataUrl(url) {$/", "language": "JavaScript", "kind": "function", "signature": "(url)", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "moveDraw", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function moveDraw(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "redo", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function redo() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "redraw", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function redraw(sourcePaths = paths) {$/", "language": "JavaScript", "kind": "function", "signature": "(sourcePaths = paths)", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "startDraw", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function startDraw(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "strokePath", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function strokePath(ctx, path) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx, path)", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "tool", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^              aria-pressed={tool === 'eraser'}$/", "language": "JavaScript", "kind": "property", "scope": "DrawingCanvas.aria", "scopeKind": "class"}, {"_type": "tag", "name": "tool", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^              aria-pressed={tool === 'pen'}$/", "language": "JavaScript", "kind": "property", "scope": "DrawingCanvas.aria", "scopeKind": "class"}, {"_type": "tag", "name": "tool", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^      tool,$/", "language": "JavaScript", "kind": "field", "scope": "DrawingCanvas.startDraw.newPath", "scopeKind": "class"}, {"_type": "tag", "name": "undo", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function undo() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "DrawingCanvas", "scopeKind": "function"}], "hash": "ae1a27fcb32391bd142bdd1bf77ecd60", "format-version": 4, "code-base-name": "notes_app_frontend", "filename": "notes_app_frontend/src/components/DrawingCanvas.js", "fields": [{"name": "className={`btn secondary ${tool === 'eraser' ? 'chip-active' : ''}`}", "scope": "DrawingCanvas.className", "scopeKind": "class", "description": "unavailable"}, {"name": "className={`btn secondary ${tool === 'pen' ? 'chip-active' : ''}`}", "scope": "DrawingCanvas.className", "scopeKind": "class", "description": "unavailable"}, {"name": "value={color}", "scope": "DrawingCanvas.value", "scopeKind": "class", "description": "unavailable"}, {"name": "<div className={`drawing-canvas card`} style={{ padding: 12, display: 'grid', gap: 10 }}>", "scope": "DrawingCanvas.AnonymousClass2331f5d50101", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-pressed={tool === 'eraser'}", "scope": "DrawingCanvas.aria", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-pressed={tool === 'pen'}", "scope": "DrawingCanvas.aria", "scopeKind": "class", "description": "unavailable"}, {"name": "tool,", "scope": "DrawingCanvas.startDraw.newPath", "scopeKind": "class", "description": "unavailable"}]}