{"is_source_file": true, "format": "JavaScript (React component)", "description": "This file defines a React functional component named DrawingCanvas that provides a configurable, touch-compatible drawing area using an HTML5 canvas element. It supports features like pen and eraser tools, color and stroke width selection, undo/redo, load/save via data URLs, and pressure sensitivity if available. The component exposes methods for retrieving the current drawing data URL, loading an image into the canvas, and clearing the canvas, via ref.", "external_files": ["@react"], "external_methods": ["useEffect", "useRef", "useState", "useImperativeHandle", "forwardRef"], "published": ["getDataUrl", "loadDataUrl", "clear"], "classes": [], "methods": [{"name": "getPointerPos(e)", "description": "Calculates and returns the pointer position relative to the canvas, including pressure if available.", "scope": "DrawingCanvas", "scopeKind": "function"}, {"name": "startDraw(e)", "description": "Initiates a drawing path when the user starts interaction.", "scope": "DrawingCanvas", "scopeKind": "function"}, {"name": "moveDraw(e)", "description": "Adds points to the current path as the user moves.", "scope": "DrawingCanvas", "scopeKind": "function"}, {"name": "endDraw()", "description": "Finalizes the current path, storing it, and triggers a redraw.", "scope": "DrawingCanvas", "scopeKind": "function"}, {"name": "strokePath(ctx, path)", "description": "Draws a given path onto the canvas context.", "scope": "DrawingCanvas", "scopeKind": "function"}, {"name": "redraw(sourcePaths = paths)", "description": "Redraws all stored paths onto the canvas.", "scope": "DrawingCanvas", "scopeKind": "function"}, {"name": "drawLiveSegment(path)", "description": "Draws the current in-progress path along with existing paths.", "scope": "DrawingCanvas", "scopeKind": "function"}, {"name": "undo()", "description": "Removes the last drawn path, enabling undo functionality.", "scope": "DrawingCanvas", "scopeKind": "function"}, {"name": "redo()", "description": "Restores the last undone path, enabling redo functionality.", "scope": "DrawingCanvas", "scopeKind": "function"}, {"name": "doClear()", "description": "Clears all paths and the canvas.", "scope": "DrawingCanvas", "scopeKind": "function"}, {"name": "loadDataUrl(url)", "description": "Loads an image from a data URL onto the canvas, resetting vector paths.", "scope": "DrawingCanvas", "scopeKind": "function"}, {"name": "DrawingCanvas( { initialDataUrl = null, onChange, height = 260, className = '' }, ref )", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["redraw", "loadDataUrl", "canvasRef.current.toDataURL", "canvasRef.current.getBoundingClientRect", "img.onload"], "search-terms": ["DrawingCanvas", "React", "canvas", "drawing", "pen", "eraser", "load/save", "undo redo", "pressure sensitivity"], "state": 2, "file_id": 19, "knowledge_revision": 63, "git_revision": "", "ctags": [{"_type": "tag", "name": "DrawingCanvas", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^const DrawingCanvas = forwardRef(function DrawingCanvas($/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "DrawingCanvas", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^const DrawingCanvas = forwardRef(function DrawingCanvas($/", "language": "JavaScript", "kind": "function", "signature": "( { initialDataUrl = null, onChange, height = 260, className = '' }, ref )"}, {"_type": "tag", "name": "aria", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^              aria-pressed={tool === 'eraser'}$/", "language": "JavaScript", "kind": "class", "scope": "DrawingCanvas", "scopeKind": "class"}, {"_type": "tag", "name": "aria", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^              aria-pressed={tool === 'pen'}$/", "language": "JavaScript", "kind": "class", "scope": "DrawingCanvas", "scopeKind": "class"}, {"_type": "tag", "name": "btn secondary ${tool === 'eraser' ? 'chip-active' : ''}", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^              className={`btn secondary ${tool === 'eraser' ? 'chip-active' : ''}`}$/", "language": "JavaScript", "kind": "field", "scope": "DrawingCanvas.className", "scopeKind": "class"}, {"_type": "tag", "name": "btn secondary ${tool === 'pen' ? 'chip-active' : ''}", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^              className={`btn secondary ${tool === 'pen' ? 'chip-active' : ''}`}$/", "language": "JavaScript", "kind": "field", "scope": "DrawingCanvas.className", "scopeKind": "class"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^            value={color}$/", "language": "JavaScript", "kind": "field", "scope": "DrawingCanvas.value", "scopeKind": "class"}, {"_type": "tag", "name": "doClear", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function doClear() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "drawLiveSegment", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function drawLiveSegment(path) {$/", "language": "JavaScript", "kind": "function", "signature": "(path)", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "drawing-canvas card", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^    <div className={`drawing-canvas card`} style={{ padding: 12, display: 'grid', gap: 10 }}>$/", "language": "JavaScript", "kind": "field", "scope": "DrawingCanvas.AnonymousClass2331f5d50101", "scopeKind": "class"}, {"_type": "tag", "name": "endDraw", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function endDraw() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "getPointerPos", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function getPointerPos(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "loadDataUrl", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function loadDataUrl(url) {$/", "language": "JavaScript", "kind": "function", "signature": "(url)", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "moveDraw", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function moveDraw(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "redo", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function redo() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "redraw", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function redraw(sourcePaths = paths) {$/", "language": "JavaScript", "kind": "function", "signature": "(sourcePaths = paths)", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "startDraw", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function startDraw(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "strokePath", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function strokePath(ctx, path) {$/", "language": "JavaScript", "kind": "function", "signature": "(ctx, path)", "scope": "DrawingCanvas", "scopeKind": "function"}, {"_type": "tag", "name": "tool", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^              aria-pressed={tool === 'eraser'}$/", "language": "JavaScript", "kind": "property", "scope": "DrawingCanvas.aria", "scopeKind": "class"}, {"_type": "tag", "name": "tool", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^              aria-pressed={tool === 'pen'}$/", "language": "JavaScript", "kind": "property", "scope": "DrawingCanvas.aria", "scopeKind": "class"}, {"_type": "tag", "name": "tool", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^      tool,$/", "language": "JavaScript", "kind": "field", "scope": "DrawingCanvas.startDraw.newPath", "scopeKind": "class"}, {"_type": "tag", "name": "undo", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/components/DrawingCanvas.js", "pattern": "/^  function undo() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "DrawingCanvas", "scopeKind": "function"}], "hash": "87ba6087830321e68326caf45e47a820", "format-version": 4, "code-base-name": "notes_app_frontend", "filename": "notes_app_frontend/src/components/DrawingCanvas.js", "fields": [{"name": "className={`btn secondary ${tool === 'eraser' ? 'chip-active' : ''}`}", "scope": "DrawingCanvas.className", "scopeKind": "class", "description": "unavailable"}, {"name": "className={`btn secondary ${tool === 'pen' ? 'chip-active' : ''}`}", "scope": "DrawingCanvas.className", "scopeKind": "class", "description": "unavailable"}, {"name": "value={color}", "scope": "DrawingCanvas.value", "scopeKind": "class", "description": "unavailable"}, {"name": "<div className={`drawing-canvas card`} style={{ padding: 12, display: 'grid', gap: 10 }}>", "scope": "DrawingCanvas.AnonymousClass2331f5d50101", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-pressed={tool === 'eraser'}", "scope": "DrawingCanvas.aria", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-pressed={tool === 'pen'}", "scope": "DrawingCanvas.aria", "scopeKind": "class", "description": "unavailable"}, {"name": "tool,", "scope": "DrawingCanvas.startDraw.newPath", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"63": ""}]}