{"is_source_file": true, "format": "JavaScript", "description": "This file contains helper functions for managing notes and notebooks via local storage, including CRUD operations and data normalization; it is specific to the front-end storage logic of a notes application.", "external_files": [], "external_methods": ["window.localStorage.getItem", "window.localStorage.setItem", "JSON.parse", "JSON.stringify", "crypto.randomUUID"], "published": ["getSelectedNotebookId", "setSelectedNotebookId", "listNotebooks", "createNotebook", "renameNotebook", "deleteNotebook", "listNotes", "createNote", "updateNote", "deleteNote", "getAllTags"], "classes": [], "methods": [{"name": "getSelectedNotebookId()", "description": "Returns the ID of the currently selected notebook stored in local storage.", "scope": "", "scopeKind": ""}, {"name": "setSelectedNotebookId(id)", "description": "Stores the given notebook ID as the selected notebook in local storage.", "scope": "", "scopeKind": ""}, {"name": "listNotebooks()", "description": "Retrieves the list of notebooks, ensuring at least a default exists.", "scope": "", "scopeKind": ""}, {"name": "createNotebook(name)", "description": "Creates and stores a new notebook with the specified name.", "scope": "", "scopeKind": ""}, {"name": "renameNotebook(id, name)", "description": "Renames an existing notebook identified by ID.", "scope": "", "scopeKind": ""}, {"name": "deleteNotebook(id)", "description": "Deletes a notebook and associated notes, updating selection if necessary.", "scope": "", "scopeKind": ""}, {"name": "listNotes(notebookId)", "description": "Lists notes filtered by notebook ID or all notes if no ID provided.", "scope": "", "scopeKind": ""}, {"name": "createNote(notePayload, notebookId)", "description": "Creates a new note with provided payload within a specified or current notebook.", "scope": "", "scopeKind": ""}, {"name": "updateNote(id, patch)", "description": "Updates a note identified by ID with provided patch data.", "scope": "", "scopeKind": ""}, {"name": "deleteNote(id)", "description": "Removes a note by ID.", "scope": "", "scopeKind": ""}, {"name": "getAllTags(notes)", "description": "Returns a sorted array of unique tags from given notes.", "scope": "", "scopeKind": ""}, {"name": "ensureDefaultNotebook()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "normalizeNote(n)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "readJSON(key, fallback)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "writeJSON(key, value)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["window.localStorage.getItem", "window.localStorage.setItem", "JSON.parse", "JSON.stringify", "crypto.randomUUID", "setSelectedNotebookId", "readJSON", "writeJSON", "ensureDefaultNotebook", "normalizeNote", "getSelectedNotebookId"], "search-terms": ["localStorage notes helpers", "notebook CRUD in local storage", "note normalization", "localStorage-based notes app", "local storage key constants", "notes and notebooks storage functions"], "state": 2, "file_id": 24, "knowledge_revision": 120, "git_revision": "", "ctags": [{"_type": "tag", "name": "NOTEBOOKS_KEY", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^const NOTEBOOKS_KEY = 'notes_app_notebooks_v1';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "NOTES_KEY", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^const NOTES_KEY = 'notes_app_data_v1';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "SELECTED_NOTEBOOK_KEY", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^const SELECTED_NOTEBOOK_KEY = 'notes_app_selected_notebook_v1';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^export function createNote(notePayload, notebookId) {$/", "language": "JavaScript", "kind": "function", "signature": "(notePayload, notebookId)"}, {"_type": "tag", "name": "createNotebook", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^export function createNotebook(name) {$/", "language": "JavaScript", "kind": "function", "signature": "(name)"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^    createdAt: new Date().toISOString(),$/", "language": "JavaScript", "kind": "property", "scope": "createNotebook.nb", "scopeKind": "class"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^export function deleteNote(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "deleteNotebook", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^export function deleteNotebook(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "ensureDefaultNotebook", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^function ensureDefaultNotebook() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getAllTags", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^export function getAllTags(notes) {$/", "language": "JavaScript", "kind": "function", "signature": "(notes)"}, {"_type": "tag", "name": "getSelectedNotebookId", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^export function getSelectedNotebookId() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^    id: crypto?.randomUUID ? crypto.randomUUID() : Math.random().toString(36).slice(2),$/", "language": "JavaScript", "kind": "property", "scope": "createNotebook.nb", "scopeKind": "class"}, {"_type": "tag", "name": "listNotebooks", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^export function listNotebooks() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listNotes", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^export function listNotes(notebookId) {$/", "language": "JavaScript", "kind": "function", "signature": "(notebookId)"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^    name: trimmed,$/", "language": "JavaScript", "kind": "property", "scope": "createNotebook.nb", "scopeKind": "class"}, {"_type": "tag", "name": "nb", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^  const nb = {$/", "language": "JavaScript", "kind": "class", "scope": "createNotebook", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^function normalizeNote(n) {$/", "language": "JavaScript", "kind": "function", "signature": "(n)"}, {"_type": "tag", "name": "readJSON", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^function readJSON(key, fallback) {$/", "language": "JavaScript", "kind": "function", "signature": "(key, fallback)"}, {"_type": "tag", "name": "renameNotebook", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^export function renameNotebook(id, name) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, name)"}, {"_type": "tag", "name": "setSelectedNotebookId", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^export function setSelectedNotebookId(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^export function updateNote(id, patch) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, patch)"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^    updatedAt: new Date().toISOString(),$/", "language": "JavaScript", "kind": "property", "scope": "createNotebook.nb", "scopeKind": "class"}, {"_type": "tag", "name": "writeJSON", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-46153-46162/notes_app_frontend/src/lib/storage.js", "pattern": "/^function writeJSON(key, value) {$/", "language": "JavaScript", "kind": "function", "signature": "(key, value)"}], "hash": "2f2d9986df0044e07656507cbcfaf155", "format-version": 4, "code-base-name": "notes_app_frontend", "filename": "notes_app_frontend/src/lib/storage.js", "fields": [{"name": "createdAt: new Date().toISOString(),", "scope": "createNotebook.nb", "scopeKind": "class", "description": "unavailable"}, {"name": "id: crypto?.randomUUID ? crypto.randomUUID() : Math.random().toString(36).slice(2),", "scope": "createNotebook.nb", "scopeKind": "class", "description": "unavailable"}, {"name": "name: trimmed,", "scope": "createNotebook.nb", "scopeKind": "class", "description": "unavailable"}, {"name": "updatedAt: new Date().toISOString(),", "scope": "createNotebook.nb", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"120": ""}]}